<?xml version="1.0" encoding="utf-8"?><waypoints>
	<onLoad>
	--==              Rock5's Rombot Assist                 ==--
	--==  www.solarstrike.net/phpBB3/viewtopic.php?p=10289  ==--
	local Version = "1.5"

	-- User Options ------------------------------------
	local attackMode = "auto"
	--      trigger  = Have to trigger each attack with the "triggerKEY".
	--      auto     = Auto attacks targeted mobs. The "triggerKEY" toggles it on and off.
	--      disabled = Only heal and buff. Never attacks. The "triggerKEY" does nothing.
	-- Note: 'trigger' and 'auto' will always fight back if attacked.
	local triggerKEY = key.VK_SHIFT
	----------------------------------------------------

	-- Start messages
	cprintf(cli.lightblue, "Rock5's Rombot Assist\n");
	cprintf(cli.white, "Version: %s\n\n", Version);
	cprintf(cli.white, "Attack mode is set to: %s\n", attackMode);
	if attackMode == "trigger" then
		cprintf(cli.yellow, "Use the \"triggerKEY\" to attack targeted mobs.\n");
	elseif attackMode == "auto" then
		cprintf(cli.yellow, "Use the \"triggerKEY\" to toggle auto attack on/off.\n");
	elseif attackMode == "disabled" then
		cprintf(cli.yellow, "Will only buff and heal. Will never fight. The \"triggerKEY\" does nothing.\n");
	else
		error("Incorrect value for option 'attackMode'. Please check script.\n",0)
	end

	-- start with attack on. Only useful for "auto" mode. Starts with auto mode "on".
	local attack = true

	-- Main loop
	while (true) do
		if attackMode == "disabled" then
			attack = false
		else
			while keyPressed(triggerKEY) do
				trigger = true
			end
			if trigger == true then
				if attackMode == "trigger" then
					attack = true
				elseif attackMode == "auto" then
					attack = (not attack)              -- Toggle attack
					if attack then
						sendMacro("DEFAULT_CHAT_FRAME:AddMessage('|cffffff00RB Assist: Auto attack mode on|r')")
					else
						sendMacro("DEFAULT_CHAT_FRAME:AddMessage('|cffffff00RB Assist: Auto attack mode off|r')")
					end
				end
				trigger = false         -- Resets trigger
			elseif attackMode == "trigger" then
				attack = false
			end

			if (player.Battling == true) or (attack == true) then
				player:fight()
			end
		end

		inventory:update()

		player:checkPotions()
		local target = player:getTarget();
		player:checkSkills(true, target);

		player:update()
	end
	</onLoad>
</waypoints>
